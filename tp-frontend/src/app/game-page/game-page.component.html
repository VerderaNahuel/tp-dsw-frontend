<!-- Barra de navegacion -->
<app-nav-bar></app-nav-bar>
<!-- Review -->
<body>
    <div class="row justify-content-md-center">
        <img src="{{ this.gameData.cover }}" class="img-fluid box"> 
    </div>
    <div class="row justify-content-md-center">
        <div class="content">
                <h1 style="display:flex; align-content: center;">{{ this.gameData.name }}</h1>
                <div style=" align-content: center;" class="">
                    <p>
                        {{ this.gameData.description }}
                    </p>

                    <div class="text-center mb-3">
                      <span class="{{ calculateColorRating(this.gameData.rating) }} ml-20" style="font-size: 25px" >{{ this.gameData.rating }}</span>

                    </div>
                 
                </div>
            <div *ngFor="let review of reviews">

            </div>     
        </div>
    </div>


 <div *ngFor="let review of reviews">
    <div class="container mt-4">
      <div class="card">
        <div class="card-header">
          <h4>{{ this.review.userId.username }}</h4>
        </div>
        <div class="card-body">
        <!--   <p><strong>Nombre de Usuario:</strong> {{ this.review.userId.username }}</p> -->
          <p><strong>Rating:</strong> {{ this.review.rating }}</p>
          <p><strong>Reseña:</strong> {{ this.review.body }}</p>
        </div>
      </div>
    </div>
  </div> 
    

    <div class="container mt-5 form border" *ngIf="!reviewed">
        <form  (ngSubmit)="postReview()" >
        <h2>Deja tu review</h2>


        <div class="container">
            <div class="row">
                <div class="col-sm-3">  <p>Quiere que la review sea privada?</p></div>
              <div class="col-sm-2">
                <label class="switch">
                  <input type="checkbox" name="private" [(ngModel)]="this.review.private" (change)="toggleSwitchPrivate()" >
                  <span class="slider round"></span>
                </label>
              </div>
            </div>
          </div>

          <div class="container">
            <div class="row">
                <div class="col-sm-3">  <p>La review contiene spoilers?</p></div>
              <div class="col-sm-2">
                <label class="switch">
                  <input type="checkbox" name="spoiler" [(ngModel)]="this.review.spoiler_check" (change)="toggleSwitchSpoiler()" >
                  <span class="slider round"></span>
                </label>
              </div>
            </div>
          </div>
          
          <!-- <input type="text" (input)="onInput($event)" [ngModel]="value" name="myInput" pattern="[0-9]{2}" maxlength="2">-->
          
          <div class="form-group">
            <label for="rating">Puntuación (1-100):</label>
            <input type="number" id="rating" class="form-control" name="rating" min="1" max="100"
            [(ngModel)]="this.review.rating" [ngClass]="{'is-invalid': invalid_rating}">
        </div>
          
        <div class="form-group">
          <label for="comment">Comentario:</label>
          <textarea id="comment" class="form-control" name="body" [(ngModel)]="this.review.body" [ngClass]="{'is-invalid': invalid_body}"></textarea>
        </div>

        <button class="btn btn-primary" type="submit">Enviar Review</button>
    </form>
    </div>
</body>
    